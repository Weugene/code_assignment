(()=>{document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".dark_light_switch")&&(localStorage.getItem("dark_theme")&&document.querySelector("body").classList.add("dark_theme"),document.querySelector(".dark_light_switch").addEventListener("click",()=>{document.querySelector("body").classList.contains("dark_theme")?(document.querySelector("body").classList.remove("dark_theme"),localStorage.removeItem("dark_theme")):(document.querySelector("body").classList.add("dark_theme"),localStorage.setItem("minimise_side_header",1))})),document.querySelector(".searchbox")&&document.querySelector(".searchbox svg").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".searchbox").classList.contains("active")?document.querySelector(".searchbox").classList.remove("active"):document.querySelector(".searchbox").classList.add("active")})});var y=(e,t)=>{var i,n,r=typeof e=="string"?document.querySelectorAll(e):e,s=t||"js-reframe";"length"in r||(r=[r]);for(var a=0;a<r.length;a+=1){var c=r[a],o=c.className.split(" ").indexOf(s)!==-1;if(o||c.style.width.indexOf("%")>-1)return;var d=c.getAttribute("height")||c.offsetHeight,l=c.getAttribute("width")||c.offsetWidth,h=typeof d=="string"?parseInt(d):d,_=typeof l=="string"?parseInt(l):l,f=h/_*100,m=document.createElement("div");m.className=s;var v=m.style;v.position="relative",v.width="100%",v.paddingTop="".concat(f,"%");var u=c.style;u.position="absolute",u.width="100%",u.height="100%",u.left="0",u.top="0",(i=c.parentNode)===null||i===void 0||i.insertBefore(m,c),(n=c.parentNode)===null||n===void 0||n.removeChild(c),m.appendChild(c)}},p=()=>{if(document.querySelectorAll("#main-menu > ul > li > .sub-menu >li").forEach(e=>{e.addEventListener("mouseenter",function(t){t.target.parentNode.classList.contains("openleft")||t.target.getBoundingClientRect().right>window.innerWidth&&t.target.parentNode.classList.add("openleft")})}),document.querySelectorAll(".menu_icon_item").forEach(e=>{let t=atob(e.getAttribute("data-icon"));t.length<400?t.split(" ").map(i=>e.classList.add(i)):e.innerHTML=t}),document.querySelector("header.site-header nav")){let e=document.querySelector("#main-menu>ul>li");if(document.querySelector("#main-menu>ul>li.current-menu-item")?e=document.querySelector("#main-menu>ul>li.current-menu-item"):document.querySelector("#main-menu>ul>li.current-menu-ancestor")?e=document.querySelector("#main-menu>ul>li.current-menu-ancestor"):document.querySelector("#main-menu>ul>li.current_page_item")&&(e=document.querySelector("#main-menu>ul>li.current_page_item")),document.querySelectorAll("#main-menu>ul>li").forEach((t,i)=>{if(window.innerWidth>960){let n=null;t.addEventListener("mouseenter",()=>{n=t.getBoundingClientRect(),document.querySelector(".mega_menu_root_active_highlight").style.left="calc("+n.x+"px - 0.5rem)",document.querySelector(".mega_menu_root_active_highlight").style.width="calc("+n.width+"px + 1rem)"}),t.addEventListener("mouseleave",()=>{n=e.getBoundingClientRect(),document.querySelector(".mega_menu_root_active_highlight").style.left="calc("+n.x+"px - 0.5rem)",document.querySelector(".mega_menu_root_active_highlight").style.width="calc("+n.width+"px + 1rem)"})}}),e){let t=e.getBoundingClientRect();e.classList.add("active"),document.querySelector(".mega_menu_root_active_highlight").style.left="calc("+t.x+"px - 0.5rem)",document.querySelector(".mega_menu_root_active_highlight").style.width="calc("+t.width+"px + 1rem)"}}q(),y("iframe")},q=function(){document.querySelector("#vibebpmember")&&document.querySelectorAll(".sticky_block").forEach(function(e){var t=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(t>768){var i=e.offsetWidth,n=document.querySelector("#vibebpmember").offsetHeight,r=0,s=e.getBoundingClientRect().top,a=r+n-e.offsetHeight-s;e.style.width=i+"px",window.addEventListener("scroll",function(c){var o=window.pageYOffset;o<a&&(o>s?e.style.transform="translateY("+o+"px)":e.style.transform="none")},!1)}})};window.addEventListener("scroll",e=>{document.querySelectorAll(".vibe_animate").forEach(t=>{isInViewport(t)&&(t.classList.add("loaded"),document.querySelector("."+t.getAttribute("id"))&&document.querySelector("."+t.getAttribute("id")).classList.add("active"))})},!1);document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{p()},100),document.querySelectorAll("header.site-header nav .menu-item")&&(document.querySelectorAll("header.site-header nav .menu-item").forEach(function(e){if(e.querySelector(".megadrop")){e.classList.add("hasmegamenu"),e.style.position="static";var t=e.querySelector(".megadrop").getAttribute("data-width");if(t!="100%"&&t!="container"){e.style.position="relative";let i=parseInt(t.replace("px",""));isNaN(i)||(e.querySelector(".sub-menu").style.left="-"+(Math.round(i/2,2)-30)+"px")}e.querySelector(".sub-menu").style.width=t}}),document.querySelector(".mega_sub_posts_menu")&&(document.querySelector(".mega_menu_term").classList.add("active"),document.querySelector(".mega_sub_posts_menu").classList.add("active"),document.querySelectorAll(".mega_menu_term").forEach(e=>{e.addEventListener("mouseenter",()=>{document.querySelector("."+e.getAttribute("data-id")+"_posts")&&(e.parentNode.querySelector(".mega_menu_term.active")&&e.parentNode.querySelector(".mega_menu_term.active").classList.remove("active"),e.classList.add("active"),e.parentNode.parentNode.querySelector(".mega_sub_posts_menu.active")&&e.parentNode.parentNode.querySelector(".mega_sub_posts_menu.active").classList.remove("active"),e.parentNode.parentNode.querySelector("."+e.getAttribute("data-id")+"_posts").classList.add("active"))})}))),document.querySelector(".menu-item-has-children")&&window.innerWidth<768&&document.querySelectorAll(".menu-item-has-children").forEach(e=>{e.addEventListener("click",function(t){t.target.nodeName=="LI"&&(t.preventDefault(),e.classList.toggle("active"),t.stopPropagation())})})});window.addEventListener("resize",p);document.addEventListener("userLoaded",p);var g=class{constructor(t){let i=t.querySelector(".counter"),n=t.querySelector(".start-counter"),r=0,s=i.dataset.decimals,a=i.dataset.increment,c=()=>{r<i.dataset.stop&&(s?(a||(a=.01),r+=a,i.textContent=new Intl.NumberFormat("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r)):(a||(a=1),r=r+a,i.textContent=r))};new IntersectionObserver(d=>{if(d[0].isIntersecting){let l=setInterval(()=>{r<i.dataset.stop?c():clearInterval(l)},i.dataset.speed)}},{threshold:[0]}).observe(n)}};document.addEventListener("DOMContentLoaded",()=>{document.querySelector("#open_menu_toggle")&&document.querySelector("#open_menu_toggle").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".site_mobile_menu").classList.toggle("hidden"),setTimeout(()=>{document.querySelector(".site_mobile_menu").classList.toggle("active")},300)}),document.querySelector("#close_menu_toggle")&&document.querySelector("#close_menu_toggle").addEventListener("click",e=>{e.preventDefault(),document.querySelector(".site_mobile_menu").classList.toggle("active"),setTimeout(()=>{document.querySelector(".site_mobile_menu").classList.toggle("hidden")},300)}),document.querySelector(".white_bg")&&document.querySelectorAll(".white_bg").forEach(e=>{var t="<div class='squares'> <div class='square'></div> <div class='square'></div> <div class='square'></div> <div class='square'></div> <div class='square'></div> <div class='square'></div> <div class='square'></div> <div class='square'></div> <div class='square'></div> <div class='square'></div> </div>";e.insertAdjacentHTML("beforeend",t)}),document.querySelector(".particles_bg")&&document.querySelectorAll(".particles_bg").forEach(e=>{var t='<div class="particles_container"><div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div> <div class="particle"></div></div>';e.insertAdjacentHTML("beforeend",t)}),document.querySelector(".counter_wrap")&&document.querySelectorAll(".counter_wrap").forEach(e=>{new g(e)})});})();
