(()=>{"use strict";var e=wp.element;function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.createElement,e.render;var n=wp.element,r=(n.createElement,n.useState),a=n.useEffect,o=(n.Fragment,n.render,n.useContext,n.useRef),i=wp.data;i.dispatch,i.select;const l=function(e){var n,i,l=o(null),c=(n=r(null),i=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(n,i)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=c[0],u=c[1];return a((function(){if(l)if(s)s.replaceData(e.data.data);else{var t=new Tabulator(l.current,{data:e.data.data,renderHorizontal:"virtual",responsiveLayout:"hide",columns:e.data.columns,layout:"fitColumns"});u(t)}}),[e.data,l]),a((function(){}),[e.args]),wp.element.createElement("div",{id:"tabulator_data",ref:l})};function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=wp.element,u=(s.createElement,s.useState),m=s.useEffect,p=(s.Fragment,s.render,s.useContext,s.useRef),d=wp.data;d.dispatch,d.select;const f=function(e){var t,n,r=p(),a=(t=u({}),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];return m((function(){var t=[],n=[],a=[];e.data.map((function(e,n){a[n]=new Date(e.name).getFullYear()+"-"+new Date(e.name).getMonth()+"-"+new Date(e.name).getDate(),t[n]=e.commission}));var l=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}();n.push({label:window.vibe_earnings.translations[e.type],data:t,borderColor:l,backgroundColor:l,showLines:!0,fill:!1});var c=r.current.parentNode.getBoundingClientRect();r.current.width=c.width,r.current.height=Math.round(2*window.innerHeight/3);var s,u=r.current.getContext("2d");o&&Object.keys(o).length&&o.destroy(),s=new Chart(u,{type:"line",data:{labels:a,datasets:n,options:{scales:{yAxes:[{stacked:!0,ticks:{beginAtZero:!0}}],xAxes:[{type:"time",time:{unit:"day",tooltipFormat:"MMM DD"}}]}}}}),i(s)}),[e.data]),wp.element.createElement("div",{className:"commissions_chart_wrapper chart"},wp.element.createElement("canvas",{ref:r}))};function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=wp.element,_=(E.createElement,E.useState),O=E.useEffect,j=E.Fragment,N=(E.render,E.useContext,E.useRef),S=wp.data,D=S.dispatch,k=S.select;const A=function(e){var t=y(_(!0),2),n=t[0],r=t[1],a=y(_({data:[],columns:[]}),2),o=a[0],i=a[1],c=N(null),s=k("vibebp").getUser();s.token=k("vibebp").getToken();var u=y(_(null),2),m=u[0],p=u[1],d=y(_([]),2),b=d[0],v=d[1],h=y(_(1),2),E=h[0],S=h[1],A=y(_([]),2),x=A[0],C=A[1],P=y(_(0),2),M=(P[0],P[1],y(_(""),2)),T=(M[0],M[1],y(_([]),2)),I=(T[0],T[1],y(_({per_page:window.vibe_earnings.per_page,currency:"",s:"",page:1,student:0,date:{start:new Date((new Date).getFullYear(),(new Date).getMonth(),1),end:new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)},item:{type:"",id:0}}),2)),F=I[0],L=I[1];O((function(){return document.addEventListener("vibebp_component_reload",J),function(){document.removeEventListener("vibebp_component_reload",J)}}),[]);var q=function(e){if(Array.isArray(e)&&2==e.length){var t=g({},F);console.log(e),t.date.start=e[0],t.date.end=e[1],L(t)}};O((function(){if(c.current&&"undefined"!=typeof flatpickr){if(m&&void 0!==m)return void m.set("onChange",q);var e={mode:"range",defaultDate:[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)],onChange:q};window.vibebp.settings.flatpickrLang&&(e.locale=window.vibebp.settings.flatpickrLang);var t=flatpickr(c.current,e);p(t)}}));var J=function(){L(g({},F))};return O((function(){r(!0),fetch("".concat(window.vibe_earnings.api_url,"instructor/").concat(s.id,"/currency"),{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({token:k("vibebp").getToken()})}).then((function(e){return e.json()})).then((function(e){r(!1),e.status&&(v(e.data),L(g(g({},F),{},{currency:e.default})))}))}),[]),O((function(){if(F.currency){r(!0);var e=g({},F);"object"==w(e.date.start)&&(e.date.start=Math.round(F.date.start.getTime()/1e3)),"object"==w(e.date.end)&&(e.date.end=Math.round(F.date.end.getTime()/1e3)),fetch("".concat(window.vibe_earnings.api_url,"instructor/").concat(s.id,"?args=").concat(JSON.stringify(F)),{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify(g(g({},e),{},{token:k("vibebp").getToken()}))}).then((function(e){return e.json()})).then((function(e){r(!1),e.status?(r(!1),S(e.last_row),i(e.data)):D("vibebp").addNotification({text:e.message})}))}}),[F]),O((function(){var e=[];o.data.length&&(o.data.map((function(t){e.push({name:t.timestamp,commission:t.commission})})),C(e))}),[o]),wp.element.createElement(j,null,wp.element.createElement("div",{className:"commissions_header"},wp.element.createElement("div",{className:"startDate"},wp.element.createElement("input",{type:"text",ref:c,placeholder:window.vibe_earnings.translations.date_range})),b.length?wp.element.createElement("div",{className:"selectCurrency"},wp.element.createElement("select",{onChange:function(e){L(g(g({},F),{},{currency:e.target.value}))},value:F.currency},wp.element.createElement("option",null,window.vibe_earnings.translations.select_currency),b.map((function(e){return wp.element.createElement("option",{value:e.currency,key:e.currency},e.currency)})))):""),n?wp.element.createElement("div",{classNamne:"lds-ellipsis"},wp.element.createElement("div",null),wp.element.createElement("div",null),wp.element.createElement("div",null),wp.element.createElement("div",null)):wp.element.createElement("div",{className:"commissionsRecords"},wp.element.createElement(f,{data:x,type:"commission"}),wp.element.createElement("div",{className:"commissionsData"},o.data.length?wp.element.createElement("div",{className:"data_records"},wp.element.createElement(l,{data:o,total:E,args:F}),E>o.data.length?wp.element.createElement("div",{className:"data_pagination_wrapper"},wp.element.createElement("span",null,window.vibe_earnings.translations.showing," ",F.page," ",window.vibe_earnings.translations.of,Math.ceil(E/F.per_page)," ",window.vibe_earnings.translations.pages,wp.element.createElement("input",{type:"number",value:F.per_page,min:"1",max:E,step:"1",onChange:function(e){return L(g(g({},F),{},{per_page:e.target.value}))}}),window.vibe_earnings.translations.per_page),wp.element.createElement("div",{className:"data_pagination"},F.page>1?wp.element.createElement(j,null,F.page>2?wp.element.createElement("a",{onClick:function(){return L(g(g({},F),{},{page:1}))}},wp.element.createElement("span",{className:"vicon vicon-angle-double-left"})):"",wp.element.createElement("a",{onClick:function(){return L(g(g({},F),{},{page:F.page-1}))}},wp.element.createElement("span",{className:"vicon vicon-angle-left"}))):"",wp.element.createElement("span",null,F.page),F.page<Math.ceil(E/F.per_page)?wp.element.createElement(j,null,wp.element.createElement("a",{onClick:function(){return L(g(g({},F),{},{page:F.page+1}))}},wp.element.createElement("span",{className:"vicon vicon-angle-right"})),F.page<Math.ceil(E/F.per_page)-1?wp.element.createElement("a",{onClick:function(){return L(g(g({},F),{},{page:Math.ceil(E/F.per_page)}))}},wp.element.createElement("span",{className:"vicon vicon-angle-double-right"})):""):"")):""):wp.element.createElement("div",{className:"vbp_message"},window.vibe_earnings.translations.no_records))))};function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I=wp.element,F=(I.createElement,I.useState),L=I.useEffect,q=I.Fragment,J=(I.render,I.useContext,I.useRef),R=wp.data,Y=(R.dispatch,R.select);const U=function(e){var t=M(F(!0),2),n=t[0],r=t[1],a=M(F({columns:[],data:[]}),2),o=a[0],i=a[1],c=J(null),s=Y("vibebp").getUser();s.token=Y("vibebp").getToken();var u=M(F(null),2),m=u[0],p=u[1],d=M(F([]),2),w=d[0],b=d[1],g=M(F(1),2),v=g[0],y=g[1],h=M(F([]),2),E=h[0],_=h[1],O=M(F(0),2),j=(O[0],O[1],M(F(""),2)),N=j[0],S=j[1],D=M(F([]),2),k=D[0],A=D[1],x=M(F({per_page:window.vibe_earnings.per_page,currency:"",s:"",page:1,student:0,date:{start:new Date((new Date).getFullYear(),(new Date).getMonth(),1),end:new Date((new Date).getTime()+864e5)},item:{type:"",id:0}}),2),P=x[0],T=x[1],I=function(e){if(Array.isArray(e)&&2==e.length){var t=C({},P);console.log(e),t.date.start=e[0],t.date.end=e[1],T(t)}};L((function(){if(c.current&&"undefined"!=typeof flatpickr){if(m&&void 0!==m)return void m.set("onChange",I);var e={mode:"range",defaultDate:[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date((new Date).getFullYear(),(new Date).getMonth()+1,0)],onChange:I};window.vibebp.settings.flatpickrLang&&(e.locale=window.vibebp.settings.flatpickrLang);var t=flatpickr(c.current,e);p(t)}})),L((function(){return document.addEventListener("vibebp_component_reload",R),function(){document.removeEventListener("vibebp_component_reload",R)}}),[]);var R=function(){T(C({},P))};L((function(){r(!0),fetch("".concat(window.vibe_earnings.api_url,"instructor/").concat(s.id,"/currency"),{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({token:Y("vibebp").getToken()})}).then((function(e){return e.json()})).then((function(e){r(!1),e.status&&(b(e.data),T(C(C({},P),{},{currency:e.default})))})),fetch("".concat(window.vibe_earnings.api_url,"instructor/").concat(s.id,"/thresholdCommission/?force"),{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({token:Y("vibebp").getToken()})}).then((function(e){return e.json()})).then((function(e){A(e)})),fetch("".concat(window.vibe_earnings.api_url,"instructor/").concat(s.id,"/last_payout_request/"),{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({token:Y("vibebp").getToken()})}).then((function(e){return e.json()})).then((function(e){e&&e.status&&S(e.last_payout_request)}))}),[]),L((function(){var e=C({},P);e.date.start=Math.round(new Date(P.date.start).getTime()/1e3),e.date.end=Math.round(new Date(P.date.end).getTime()/1e3),fetch("".concat(window.vibe_earnings.api_url,"instructor/").concat(s.id,"/payouts?args=").concat(JSON.stringify(P)),{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify(C(C({},e),{},{token:Y("vibebp").getToken()}))}).then((function(e){return e.json()})).then((function(e){e.status&&(r(!1),i(e.data),y(e.last_row))}))}),[P]),L((function(){var e=[];o.data.length&&(o.data.map((function(t){e.push({name:t.timestamp,commission:parseInt(t.payout)})})),_(e))}),[o]);var U=0,W=0,X=0;return k.map((function(e,t){P.hasOwnProperty("currency")&&P.currency==e.currency&&(U=e.total_commission,W=e.payout,X=e.threshold,e.currency)})),wp.element.createElement(q,null,wp.element.createElement("div",{className:"threshold_commissions"},wp.element.createElement("div",{className:"threshold_commission_wrapper"},wp.element.createElement("div",{className:"threshold_commission"},wp.element.createElement("strong",null,window.vibe_earnings.translations.total_commission),wp.element.createElement("span",null,U>=X+W&&0!==U?U:"N.A")),wp.element.createElement("div",{className:"threshold_commission"},wp.element.createElement("strong",null,window.vibe_earnings.translations.total_payout),wp.element.createElement("span",null,W||"N.A"))),wp.element.createElement("div",{className:"threshold_commission_wrapper"},wp.element.createElement("div",{className:"threshold_commission"},wp.element.createElement("strong",null,window.vibe_earnings.translations.commission_balance,wp.element.createElement("span",null,window.vibe_earnings.translations.commission_balance_note," - ",X)),wp.element.createElement("span",null,0!==U?U-W:0),N?wp.element.createElement("span",{className:"lastRequested"},window.vibe_earnings.translations.last_requested," ",N):U&&U-W>X?wp.element.createElement("button",{className:"button",onClick:function(e){fetch("".concat(window.vibe_earnings.api_url,"instructor/").concat(s.id,"/requestPayouts/?currency=").concat(P.hasOwnProperty("currency")?P.currency:"","&post"),{method:"post",headers:window.vibebp.xnonce?{"X-WP-Nonce":window.vibebp.xnonce}:{},body:JSON.stringify({token:Y("vibebp").getToken()})}).then((function(e){return e.json()})).then((function(e){S(e.last_payout)}))}},window.vibe_earnings.translations.request_payouts):""))),wp.element.createElement("div",{className:"commissions_header"},wp.element.createElement("div",{className:"startDate"},wp.element.createElement("input",{type:"text",ref:c,placeholder:window.vibe_earnings.translations.date_range})),w.length?wp.element.createElement("div",{className:"selectCurrency"},wp.element.createElement("select",{onChange:function(e){T(C(C({},P),{},{currency:e.target.value}))},value:P.currency},wp.element.createElement("option",null,window.vibe_earnings.translations.select_currency),w.map((function(e){return wp.element.createElement("option",{value:e.currency,key:e.currency},e.currency)})))):""),n?wp.element.createElement("div",{class:"lds-ellipsis"},wp.element.createElement("div",null),wp.element.createElement("div",null),wp.element.createElement("div",null),wp.element.createElement("div",null)):wp.element.createElement("div",{className:"commissionsRecords"},wp.element.createElement(f,{data:E,type:"payout"}),wp.element.createElement("div",{className:"payout_data"},o.data.length?wp.element.createElement(q,null,wp.element.createElement(l,{data:o,args:P,total:v}),v>o.data.length?wp.element.createElement("div",{className:"data_pagination_wrapper"},wp.element.createElement("span",null,window.vibe_earnings.translations.showing," ",P.page," ",window.vibe_earnings.translations.of,Math.ceil(v/P.per_page)," ",window.vibe_earnings.translations.pages,wp.element.createElement("input",{type:"number",value:P.per_page,min:"1",max:v,step:"1",onChange:function(e){return T(C(C({},P),{},{per_page:e.target.value}))}}),window.vibe_earnings.translations.per_page),wp.element.createElement("div",{className:"data_pagination"},P.page>1?wp.element.createElement(q,null,P.page>2?wp.element.createElement("a",{onClick:function(){return T(C(C({},P),{},{page:1}))}},wp.element.createElement("span",{className:"vicon vicon-angle-double-left"})):"",wp.element.createElement("a",{onClick:function(){return T(C(C({},P),{},{page:P.page-1}))}},wp.element.createElement("span",{className:"vicon vicon-angle-left"}))):"",wp.element.createElement("span",null,P.page),P.page<Math.ceil(v/P.per_page)?wp.element.createElement(q,null,wp.element.createElement("a",{onClick:function(){return T(C(C({},P),{},{page:P.page+1}))}},wp.element.createElement("span",{className:"vicon vicon-angle-right"})),P.page<Math.ceil(v/P.per_page)-1?wp.element.createElement("a",{onClick:function(){return T(C(C({},P),{},{page:Math.ceil(v/P.per_page)}))}},wp.element.createElement("span",{className:"vicon vicon-angle-double-right"})):""):"")):""):wp.element.createElement("div",{className:"vbp_message"},window.vibe_earnings.translations.no_records))))};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=wp.element,Z=(z.createElement,z.useState),G=z.useEffect,K=(z.Fragment,z.render),Q=wp.data,V=(Q.dispatch,Q.select),ee=function(e){var t=$(Z(!1),2),n=(t[0],t[1],$(Z([]),2)),r=n[0],a=n[1],o=$(Z([]),2),i=o[0],l=o[1],c=$(Z("commission"),2),s=c[0],u=c[1];return G((function(){console.log(V("vibebp").getMenu());var e=V("vibebp").getMenu().filter((function(e){return"commissions"===e.parent}));e.map((function(t,n){-1===e.findIndex((function(e){return e.class.indexOf("current-menu-item")>-1}))&&e[n].class.push("current-menu-item")})),a(e),-1==document.querySelector("body").classList.value.indexOf("withsidebar")&&document.querySelector("body").classList.add("withsidebar")}),[]),wp.element.createElement("div",{className:"vibebp_sidebars"},wp.element.createElement("div",{className:"vibebp_left_sidebar_wrapper"},wp.element.createElement("div",{className:"vibebp_left_sidebar"},wp.element.createElement("h3",null,window.vibe_earnings.translations.commissions),r.map((function(e,t){var n=e.class.join(" ")+" "+e.css_id;return wp.element.createElement("a",{className:n,onClick:function(n){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i);o.filter=e.css_id,o.page=1,i.css_id!==o.filter&&l(o),u(e.css_id);var c,s=function(e){if(Array.isArray(e))return H(e)}(c=r)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(c)||B(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),m=s.findIndex((function(e){return e.class.indexOf("current-menu-item")>-1}));s[m].class.splice(s[m].class.indexOf("current-menu-item"),1),s[t].class.push("current-menu-item"),a(s)}},e.name)})))),wp.element.createElement("div",{className:"vibebp_main"},"payouts"===s?wp.element.createElement(U,null):"commission"===s?wp.element.createElement(A,null):""))};document.addEventListener("component_loaded",(function(e){"commissions"===e.detail.component&&setTimeout((function(){K(wp.element.createElement(ee,null),document.querySelector("#commissions_component"))}),200)}),!1)})();